(()=>{"use strict";const e=function(){for(var e=[],t=0;t<=99;t++)e.push(t);const n=function(e){var t=Math.floor(Math.random()*e.length),n=e[t];return e.splice(t,1),n};return{attackBoard:function(e,t){return e.receiveAttack(e,t)},getRandomIntBetween:n,randomAttack:function(t){var r=n(e);return t.receiveAttack(t,r)}}},t=function(e){let t=e,n=[];return{length:t,hitWhere:n,sunk:!1,hit:e=>{n.push(e)},isSunk:e=>{n.length==t?e.sunk=!0:n.length!==t&&(e.sunk=!1)}}},n=function(){return{board:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fleet:{one:t(1),two:t(2),three:t(3),four:t(4),five:t(5)},placeShipHorizontally:function(e,t,n){for(let r=n;r<t+n;r++)e.board[r]+=t;return e},placeShipVertically:function(e,t,n){for(let r=n;r<=10*t-10+n;r+=10)e.board[r]+=t;return e},receiveAttack:function(e,t){if(0===e.board[t])return e.board[t]-=1;if(e.board[t]>0){if(1===e.board[t])return e.board[t]-=3,e.fleet.one.hit(t),e.fleet.one;if(2===e.board[t])return e.board[t]-=4,e.fleet.two.hit(t),e.fleet.two;if(3===e.board[t])return e.board[t]-=5,e.fleet.three.hit(t),e.fleet.three;if(4===e.board[t])return e.board[t]-=6,e.fleet.four.hit(t),e.fleet.four;if(5===e.board[t])return e.board[t]-=7,e.fleet.five.hit(t),e.fleet.five}e.board[t]},allSunk:function(e){return e.fleet.one.isSunk(e.fleet.one),e.fleet.two.isSunk(e.fleet.two),e.fleet.three.isSunk(e.fleet.three),e.fleet.four.isSunk(e.fleet.four),e.fleet.five.isSunk(e.fleet.five),!1!==e.fleet.one.sunk&&!1!==e.fleet.two.sunk&&!1!==e.fleet.three.sunk&&!1!==e.fleet.four.sunk&&!1!==e.fleet.five.sunk}}},r=function(){const e=document.createElement("input"),t=document.createElement("input"),n=document.createElement("input"),r=document.createElement("input"),a=document.createElement("input"),o=document.getElementById("content"),i=document.createElement("button"),l=document.createElement("form"),u=document.createElement("label"),c=document.createElement("label"),h=document.createElement("label"),m=document.createElement("label"),s=document.createElement("label"),p=document.createElement("br"),f=document.createElement("br"),b=document.createElement("br"),B=document.createElement("br"),C=document.createElement("br"),E=document.createElement("br"),k=document.createElement("div"),S=document.createElement("h1");o.innerHTML="",i.textContent="PLACE SHIPS",S.textContent="BATTLESHIP",i.setAttribute("type","button"),e.setAttribute("type","number"),t.setAttribute("type","number"),n.setAttribute("type","number"),r.setAttribute("type","number"),a.setAttribute("type","number"),e.setAttribute("min","0"),t.setAttribute("min","0"),n.setAttribute("min","0"),r.setAttribute("min","0"),a.setAttribute("min","0"),e.setAttribute("max","99"),t.setAttribute("max","99"),n.setAttribute("max","99"),r.setAttribute("max","99"),a.setAttribute("max","99"),u.textContent="SHIP ONE COORDINATES",c.textContent="SHIP TWO COORDINATES",h.textContent="SHIP THREE COORDINATES",m.textContent="SHIP FOUR COORDINATES",s.textContent="SHIP FIVE COORDINATES",k.classList.add("form"),l.appendChild(p),l.appendChild(u),l.appendChild(e),l.appendChild(f),l.appendChild(c),l.appendChild(t),l.appendChild(b),l.appendChild(h),l.appendChild(n),l.appendChild(B),l.appendChild(m),l.appendChild(r),l.appendChild(C),l.appendChild(s),l.appendChild(a),l.appendChild(E),l.appendChild(i),k.appendChild(S),k.appendChild(l),o.appendChild(k),i.addEventListener("click",(()=>{d.setup(Number(e.value),Number(t.value),Number(n.value),Number(r.value),Number(a.value))}))},a=function(e,t){const n=document.getElementById("content"),r=document.createElement("div"),a=document.createElement("h1"),o=document.createElement("div"),i=document.createElement("h3"),l=document.createElement("h2"),u=document.createElement("h2"),c=document.createElement("div"),h=document.createElement("div"),m=document.createElement("div"),s=document.createElement("div");n.innerHTML="",a.textContent="BATTLESHIP",l.textContent="HUMAN",u.textContent="COMPUTER",r.classList.add("gameboards"),o.classList.add("displays"),c.classList.add("gameboard-one"),h.classList.add("gameboard-two"),m.classList.add("thegameboard"),s.classList.add("thegameboard"),c.appendChild(l),h.appendChild(u),c.appendChild(m),h.appendChild(s),e.board.forEach((e=>{let t=document.createElement("div");m.appendChild(t),t.classList.add("cell"),-1===e&&(t.style.backgroundColor="red"),-2===e&&(t.style.backgroundColor="darkred")}));let p=0;t.board.forEach((e=>{let t=document.createElement("div");s.appendChild(t),t.classList.add("cell-click"),t.setAttribute("data",`${p}`),-1!==e&&t.addEventListener("click",(()=>{d.takeTurn(t.attributes.data.value)})),-1===e&&(t.style.backgroundColor="red"),-2===e&&(t.style.backgroundColor="darkred"),p++})),o.appendChild(c),o.appendChild(h),r.appendChild(a),r.appendChild(o),r.appendChild(i),n.appendChild(r)},o=function(e){document.querySelector("h3").textContent=`${e} won the game!`},d={humanBoard:new n,computerBoard:new n,human:new e,computer:new e,start:function(){r()},setup:function(e,t,n,r,o){this.humanBoard.placeShipVertically(this.humanBoard,this.humanBoard.fleet.one.length,e),this.humanBoard.placeShipHorizontally(this.humanBoard,this.humanBoard.fleet.two.length,t),this.humanBoard.placeShipVertically(this.humanBoard,this.humanBoard.fleet.three.length,n),this.humanBoard.placeShipHorizontally(this.humanBoard,this.humanBoard.fleet.four.length,r),this.humanBoard.placeShipVertically(this.humanBoard,this.humanBoard.fleet.five.length,o),this.computerBoard.placeShipVertically(this.computerBoard,this.computerBoard.fleet.one.length,9),this.computerBoard.placeShipHorizontally(this.computerBoard,this.computerBoard.fleet.two.length,20),this.computerBoard.placeShipVertically(this.computerBoard,this.computerBoard.fleet.three.length,54),this.computerBoard.placeShipHorizontally(this.computerBoard,this.computerBoard.fleet.four.length,35),this.computerBoard.placeShipVertically(this.computerBoard,this.computerBoard.fleet.five.length,58),a(this.humanBoard,this.computerBoard)},takeTurn:function(e){this.human.attackBoard(this.computerBoard,e),this.computerBoard.allSunk(this.computerBoard),a(this.humanBoard,this.computerBoard),this.checkWinner()||(this.computer.randomAttack(this.humanBoard),this.humanBoard.allSunk(this.humanBoard),a(this.humanBoard,this.computerBoard),this.checkWinner())},checkWinner:function(){return!0===this.computerBoard.allSunk(this.computerBoard)?(o("You"),setTimeout(r,3e3),this.humanBoard=new n,this.computerBoard=new n,!0):!0===this.humanBoard.allSunk(this.humanBoard)?(o("Computer"),setTimeout(r,3e3),this.humanBoard=new n,this.computerBoard=new n,!0):void 0}};d.start()})();